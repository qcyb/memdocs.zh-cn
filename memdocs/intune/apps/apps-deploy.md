---
title: 在 Microsoft Intune 中将应用分配到组
titleSuffix: ''
description: 了解如何使用 Microsoft Intune 将 Intune 应用分配给用户组或设备组。
keywords: ''
author: Erikre
ms.author: erikre
manager: dougeby
ms.date: 02/27/2020
ms.topic: conceptual
ms.service: microsoft-intune
ms.subservice: apps
ms.localizationpriority: high
ms.technology: ''
ms.assetid: dc349e22-9e1c-42ba-9e70-fb2ef980ef7a
ms.reviewer: mghadial
ms.suite: ems
search.appverid: MET150
ms.custom: intune-azure
ms.collection: M365-identity-device-management
ms.openlocfilehash: 345c2d3824a6bd22f224429717e6c44a3941b0cf
ms.sourcegitcommit: 7f17d6eb9dd41b031a6af4148863d2ffc4f49551
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/21/2020
ms.locfileid: "80324605"
---
# <a name="assign-apps-to-groups-with-microsoft-intune"></a>使用 Microsoft Intune 将应用分配到组

[!INCLUDE [azure_portal](../includes/azure_portal.md)]

向 Microsoft Intune [添加应用](apps-add.md)后，可将应用分配给用户和设备。 值得注意的是，无论设备是否由 Intune 管理，都可以将应用分配到设备。

> [!NOTE]
> 设备组不支持可用部署意图，仅用户组支持。

下表列出了用于将应用分配到用户和设备的各种选项：

|   | 已注册到 Intune 的设备 | 未注册到 Intune 的设备 |
|-------------------------------------------------------------------------------------------|------------------------------|----------------------------------|
| 分配到用户 | 是 | 是 |
| 分配到设备 | 是 | 否 |
| 分配包装的应用或整合 Intune SDK 的应用（适用于应用保护策略） | 是 | 是 |
| 将应用分配为“可用” | 是 | 是 |
| 将应用分配为“必需” | 是 | 否 |
| 卸载应用 | 是 | 否 |
| 从 Intune 接收应用更新 | 是 | 否 |
| 最终用户从公司门户应用安装可用的应用 | 是 | 否 |
| 最终用户从基于 Web 的公司门户安装可用的应用 | 是 | 是 |

> [!NOTE]
> 目前，可将（业务线和应用商店购买的）iOS/iPadOS 和 Android 应用分配到未向 Intune 注册的设备。
>
> 若要在未注册 Intune 的设备上接收应用更新，设备用户必须转至其公司门户并手动安装应用更新。

## <a name="assign-an-app"></a>分配应用

1. 登录到 [Microsoft 终结点管理器管理中心](https://go.microsoft.com/fwlink/?linkid=2109431)。
2. 选择“应用”   > “所有应用”  。
3. 在  “应用”窗格中，选择你想要分配的应用。
4. 在菜单的“管理”部分中选择“分配”   。
5. 选择  “添加组”以打开与该应用相关的  “添加组”窗格。
6. 对于特定应用，请选择  “分配类型”：
   - **适用于已注册的设备**：将应用分配给可从公司门户应用或网站安装应用的用户组。
   - **注册与否都可用：** 可将此应用分配到未将其设备注册到 Intune 的用户组。 必须为用户分配 Intune 许可证，请参阅 [Intune 许可证](../fundamentals/licenses.md)。
   - **必需**：应用安装在所选组中的设备上。 在应用安装开始之前，某些平台可能会显示需最终用户确认的其他提示。
   - **卸载**：如果 Intune 之前已使用相同部署通过“可用于已注册设备”或“必需”分配将应用程序安装到设备上，则会从所选组中的设备卸载该应用。 部署后无法删除 Web 链接。

     > [!NOTE]
     > **仅适用于 iOS/iPadOS 应用**：
     > - 若要在设备不再受管理时配置托管应用所发生的情况，可以在“删除设备时卸载”  下选择所需的设置。 有关详细信息，请参阅[适用于 iOS/iPadOS 托管应用的应用卸载设置](apps-deploy.md#app-uninstall-setting-for-ios-managed-apps)。
     > - 如果已创建包含每个应用的 VPN 设置的 iOS/iPadOS VPN 配置文件，可在“VPN”下选择 VPN 配置文件  。 应用运行时，VPN 连接将随之打开。 有关详细信息，请参阅[适用于 iOS/iPadOS 设备的 VPN 设置](../configuration/vpn-settings-ios.md)。
     >
     > **仅适用于 Android 应用**：如果将 Android 应用部署为“注册与否都可用”，则只能在已注册的设备上获取报告状态  。
     >
     > 对于“可用于已注册的设备”  ：只有当登录到公司门户的用户是注册了设备的主要用户且应用适用于设备时，应用才显示为可用。

7. 要选择受此应用分配影响的用户组，请选择“包括的组”  。
8. 选择要包括的一个或多个组后，请选择“选择”  。
9. 在“分配”窗格中选择“确定”，完成包括的组选择   。
10. 如果想排除受此应用分配影响的任何用户组，请选择“排除组”  。
11. 如果已选择排除任何组，请在“选择组”中选择“选择”   。
12. 在“添加组”  窗格中，选择“确定”  。
13. 在应用的  “分配”窗格中，选择“保存”  。

应用现已分配给所选组。 若要深入了解如何包括和排除应用分配，请参阅[包括和排除应用分配](apps-inc-exl-assignments.md)。

## <a name="how-conflicts-between-app-intents-are-resolved"></a>如何解决不同应用意图之间的冲突

已阻止单个组面向多个应用分配的意图，但是，如果某用户或设备是多个组的成员，而每个组都采用不同意图进行分配，则会导致冲突。 不建议为应用程序创建分配冲突。
下表中的信息可以帮助了解发生冲突时产生的意图：

| 组 1 意图 | 组 2 意图 | 生成意图 |
|-----------------------------------|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|必需用户|可用用户|必需和可用|
|必需用户|用户卸载|必需|
|可用用户|用户卸载|“卸载”|
|必需用户|必需设备|同时存在，Intune 处理“必需”
|必需用户|设备卸载|同时存在，Intune 解析“必需”
|可用用户|必需设备|同时存在，Intune 解析“必需”（“必需”和“可用”）
|可用用户|设备卸载|同时存在，Intune 解析“可用”。<br><br>应用将显示在公司门户中。<br><br>如果应用已安装（作为前一意图的必需应用），将卸载应用。<br><br>如果用户选择“从公司门户安装”  ，则将安装应用，忽略卸载意图。|
|用户卸载|必需设备|同时存在，Intune 解析“必需”|
|用户卸载|设备卸载|同时存在，Intune 解析“卸载”|
|必需设备|设备卸载|必需|
|必需和可用的用户|可用用户|必需和可用|
|必需和可用的用户|用户卸载|必需和可用|
|必需和可用的用户|必需设备|同时存在，必需和可用
|必需和可用的用户|设备卸载|同时存在，Intune 解析“必需”（“必需”和“可用”）
|可用用户（未注册）|必需和可用的用户|必需和可用
|可用用户（未注册）|必需用户|必需
|可用用户（未注册）|可用用户|可用|
|可用用户（未注册）|必需设备|必需和可用（未注册）|
|可用用户（未注册）|设备卸载|卸载和必需（未注册）。<br><br>如果用户并非从公司门户安装应用，则会执行卸载。<br><br>如果用户从公司门户安装应用，则安装将优先于卸载。|

> [!NOTE]
> 仅针对托管 iOS 应用商店应用：将这些应用添加到 Microsoft Intune 并将其分配为“必需”时，将自动根据“必需”和“可用”意向进行创建    。<br><br>
> 标记为所需意图的 iOS/iPadOS 应用商店应用（不是 iOS VPP 应用）将在设备签入时在设备上执行，并且还会显示在公司门户应用中。<br><br>
> 如果“删除设备时卸载”  设置中发生冲突，则该设备不再受管理时，不会从设备中删除该应用。

## <a name="managed-google-play-app-deployment-to-unmanaged-devices"></a>将托管的 Google Play 应用部署到非托管设备
对于没有注册的 APP-WE（未注册情况下的应用保护策略）部署方案中的 Android 设备，可以使用托管的 Google Play 将应用商店应用和业务线 (LOB) 应用部署到用户。 定位为“是否注册均可使用”  的托管 Google Play 应用将显示在最终用户的设备上的 Play Store 应用中，而不会显示在公司门户应用中。 最终用户将浏览和安装以这种方式从 Play 应用部署的应用。 因为应用是从托管的 Google Play 安装的，所以最终用户无需将其设备设置更改为允许从未知源安装应用，这意味着设备将更为安全。 如果应用开发人员向 Play 发布了已在用户的设备上安装的应用的新版本，则 Play 将自动更新该应用。 

将托管的 Google Play 应用分配到非托管设备的步骤：

1. 将 Intune 租户连接到托管的 Google Play。 如果已执行此操作以便管理 Android 企业工作配置文件、专用设备或完全托管的设备，则无需再执行此操作。
2. 将托管的 Google Play 中的应用添加到 Intune 控制台。
3. 对托管 Google Play 应用的定位是对于预期用户组“是否注册均可使用”  。 非注册的设备不支持“必需”  和“卸载”  的应用定位。
4. 将应用保护策略分配给用户组。
5. 当最终用户下次打开公司门户应用时，他们将看到一条消息，指出在 Play Store 应用中有可供他们使用的应用。  用户点击此通知后将直接转到 Play 应用以看到公司应用，也可以单独导航到 Play Store 应用。
6. 最终用户可以展开 Play Store 应用中的上下文菜单并在其个人 Google 帐户（可以看到其个人应用）和其工作帐户（将看到面向他们的商店和 LOB 应用）之间进行切换。 最终用户通过在 Play Store 应用中点击“安装”来安装应用。

在 Intune 控制台中发出应用选择性擦除时，工作帐户将从 Play Store 应用中自动删除，且最终用户从那时起将无法再在 Play Store 应用目录中看到工作应用。 从设备中删除工作帐户后，从 Play Store 安装的应用将仍然安装在设备上，不会卸载。 

## <a name="app-uninstall-setting-for-ios-managed-apps"></a>适用于 iOS 托管应用的应用卸载设置
对于 iOS/iPadOS 设备，你可以选择当从 Intune 取消注册设备或使用“删除设备时卸载”  设置删除管理配置文件时托管应用所发生的情况。 只有在注册设备并且应用作为托管安装后，此设置才适用于应用。 无法为 Web 应用或 Web 链接配置该设置。 只有受移动应用管理 (MAM) 保护的数据在停用后才会被应用选择性擦除删除。

已经为新分配预填充该设置的默认值，如下所示：

|iOS 应用类型 | “删除设备时卸载”的默认设置 |
|--------------------|----------------|
| 业务线应用 | 是 |
| 应用商店应用 | 否 |
| VPP 应用 | 否 |
| 内置应用 | 否 |

>[!NOTE]
>**“可用”分配类型：** 如果你正在为“可用于已注册的设备”或“不论是否注册均可使用”组更新此设置，则已拥有托管应用的用户在将设备与 Intune 同步且重新安装该应用之前，不会获得更新的设置。 
>
>**预先存在的分配：** 在引入此设置之前已存在的分配是未修改的，并且在从管理中删除设备时将删除所有托管应用。

## <a name="next-steps"></a>后续步骤

要了解有关监视应用分配的详细信息，请参阅[如何监视应用](apps-monitor.md)。
